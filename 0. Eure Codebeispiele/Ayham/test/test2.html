<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تدوير وتحريك العنصر مع التمرير</title>
    <style>
        #moving-element {
            width: 100px;
            height: 100px;
            background-color: red;
            position: fixed;
            top: 50%;
            left: 50%;
            transform-origin: center center;
            transition: transform 0.1s ease; /* لجعل الحركة سلسة */
        }
        body {
            height: 2000px; /* لجعل الصفحة قابلة للتمرير */
        }
    </style>
</head>
<body>
    <img src="IMG/foot2.png" id="moving-element">

    <script>
        const element = document.getElementById('moving-element');
        let rotationAngle = 0; // متغير لتخزين زاوية التدوير الحالية
        let isRotatingForward = true; // متغير لتحديد اتجاه التدوير

        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY || window.pageYOffset;

            // زيادة أو إنقاص زاوية التدوير بناءً على اتجاه التمرير
            if (isRotatingForward) {
                rotationAngle += 1; // زيادة الزاوية عند التمرير لأسفل
            } else {
                rotationAngle -= 1; // إنقاص الزاوية عند التمرير لأعلى
            }

            // إذا وصلت الزاوية إلى 360 درجة، نعكس الاتجاه
            if (rotationAngle >= 50) {
                isRotatingForward = false;
            }
            // إذا وصلت الزاوية إلى 0 درجة، نعكس الاتجاه مرة أخرى
            if (rotationAngle <= 30) {
                isRotatingForward = true;
            }

            // حساب الإزاحة الأفقية والعمودية بناءً على التمرير
            const moveX = scrollY * 0.1; // تحريك أفقي
            const moveY = scrollY * 0.1; // تحريك عمودي

            // تطبيق التدوير والتحريك على العنصر
            element.style.transform = `
                rotate(${rotationAngle}deg)
                translate(${moveX}px, ${moveY}px)
            `;
        });
    </script>
</body>
</html>